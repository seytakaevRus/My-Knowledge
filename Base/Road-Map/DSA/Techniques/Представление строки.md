---
tags:
  - leetcode
  - technique
---
## Описание

Техника, описанная здесь позволяет представить строку, состоящую из английских букв, как массив длиною `26`, где на `0` индекса располагается частота встречаемости буквы `a`, а на `25` индексе букву `z`.

Чтобы вычислить позицию буквы в таком массиве берется её код с помощью метода `String.prototype.charCodeAt` и отнимается `97`, так как код буквы `a` равняется `97`.

---
## Ограничения

- техника используется в основном для английских букв, там коды букв в таблице кодировки идут последовательно, к примеру, в русском языке код буквы `е` равняется `1077`, а буквы `ё` равняется `1105`.

---
## Преимущества

- в некоторых задач очень упрощает создание алгоритма;
- позволяет снизить сложность по памяти к `O(1)`, так как длина массива никак не зависит от длины строки.

---
## Использование

На вход подается строка `s`, в которой содержатся буквы английского алфавита в нижнем регистре. Нужно найти букву, которая раньше всех встречается дважды.

Создается массив, который будет хранить частоту встречаемости букв, при помощи `new Array()` и заполняется при помощи метода `Array.prototype.fill`. Далее на каждой итерации берется код буквы при помощи `String.prototype.charCodeAt` и отнимается `97` и элемент на этом индексе увеличивается.

Когда находится частота, которая равна `2`, то `letter` возвращается.

```typescript
const repeatedCharacter = (s: string): string => {
  const letters = new Array(26).fill(0);

  for (const letter of s) {
    const letterIndex = letter.charCodeAt(0) - 97;

    letters[letterIndex] += 1;

    if (letters[letterIndex] === 2) {
      return letter;
    }
  }
};
```

Код получения из строки массива чисел можно вынести в функцию, но бывают ситуации, когда алгоритм нужно модифицировать, как выше, в такой ситуации вынести в функцию не получится.

```typescript
const getLetterFrequencyArrayFromString = (s: string): number[] => {
  const letters = new Array(26).fill(0);

  for (const letter of s) {
    const code = letter.charCodeAt(0) - 97;

    letters[code] += 1;
  }

  return letters;
}
```

---
## Задачи, с применением техники

```dataviewjs
const { utils } = require(app.vault.adapter.basePath + "/Files/JS/dataviewUtils.js");

const {
  renderTasksTable,
} = utils;

renderTasksTable(dv, ["Tasks", "Level", "Recommended", "Topics"]);
```
---
tags:
  - leetcode
  - technique
---
## Описание

`Префиксная сумма` - техника, используемая в программировании и математике для эффективного вычисления суммы элементов в подмассивах массива. Она основана на предварительном вычислении сумм от начала массива до каждой позиции, что позволяет значительно ускорить запросы на суммирование.

https://leetcode.com/discuss/study-guide/4023666/prefix-sum-questions-to-practice

https://leetcode.com/discuss/study-guide/5119937/prefix-sum-problems#section-1

---
## Ограничения

- требует дополнительной `O(n)` памяти;
- не подходит для массивов, чьи элементы могут быть изменены;
- не подходит для задач, где вместо суммы нужно использовать другие операции (умножение, минимум, максимум и т.д.)

---
## Преимущества

- позволяет обрабатывать запросы на суммы в массиве за `O(1)` после предварительного вычисления за `O(n)`;
- позволяет сократить время выполнения с `O(n^2)` до `O(n)`;
- удобна для задач, где требуется многократно вычислять суммы в различных подмассивах.

---
## Использование

### Пример 1

Предположим, есть массив `[1, 2, 3, 4]` и нам нужно получить массив `runningSum[i] = sum(nums[0]…nums[i])`.

Можно решить это через два вложенных цикла и тогда время алгоритма составит `O(n^2)`. А можно пойти через префиксную сумму.

Первый элемент `prefixSum` равен первому элементу `nums`. Далее проход начинается со второго элемента в `nums`, на каждой итерации вычисляется сумма между предыдущим значением `prefixSum` и текущим значением `nums`.

```typescript
const runningSum = (nums: number[]): number[] => {
  const prefixSum = [nums[0]];

  for (let i = 1; i < nums.length; i += 1) {
    prefixSum[i] = prefixSum[i - 1] + nums[i];
  }

  return prefixSum;
};
```

---
## Задачи, с применением техники

```dataviewjs
const { utils } = require(app.vault.adapter.basePath + "/Files/JS/dataviewUtils.js");

const {
  renderTasksTable,
} = utils;

renderTasksTable(dv, ["Tasks", "Level", "Recommended", "Topics"]);
```
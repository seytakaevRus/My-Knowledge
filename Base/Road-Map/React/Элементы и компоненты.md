---
tags:
  - react
refs:
  - https://www.advanced-react.com/
date: 2025-02-02
author: Ruslan Seit-Akaev
---
## Что такое компонент?

`Компонент` - функция, отличающаяся от других функций тем, что она возвращает элемент, которые затем `React` преобразует в `DOM` элементы и передаёт браузеру, чтобы он их нарисовал.

```jsx
const Parent = () => {
  return <Child />;
};
```

Функция возвращает `<Child />`, который является элементом компонента `Child`. Каждый раз, когда мы используем эти скобки на компоненте мы создаём его элемент. Элемент компонента `Parent` будет `<Parent />`.

## Что такое элемент?

^Элемент это объект, который является определением компонента. Такой `HTML-синтаксис` является синтаксическим сахаром над функцией `React.createElement`. То есть `<Child />`, это вызов функции `React.createElement(Child, null, null)`. И после вызова функции мы получим такой объект: ^3c1b37

```js
{
   type: Child,
   props: {}, // if Child had props
   ... // lots of other internal React stuff
}
```

Если у компонента есть пропсы.

```jsx
const Component = () => {
  return (
    <div>
      <Input placeholder="Text1" id="1" />
      <Input placeholder="Text2" id="2" />
    </div>
  );
};

```

То объект будет выглядеть примерно так:

```js
{
  type: "div",
  props: {
    children: [
      {
        type: Input,
        props: { id: "1", placeholder: "Text1" },
      },
      {
        type: Input,
        props: { id: "2", placeholder: "Text2" },
      },
    ],
  },
}
```

Иногда встречает такое объявление элемента.

```jsx
const Parent = () => {
  const child = <Child />;
  
  return child;
};
```

^Важно понимать, что `child = <Child />` это создание элемента, то есть создание простого объекта. Рендеринг же этого объекта происходит, когда функция `Parent` вернёт `child`. В данном случае функция будет делать это всегда. ^cc0e2b

Различие между создание элемента и его вызовом помогает понять когда элемент рендерится. А рендерится он только тогда, когда находится внутри инструкции `return` у компонента. В данном случае отрисовка элемента `<Child />` будет только при `checked` равным в `true`.

```jsx
const Parent = () => {
  const checked = false;

  const child = <Child />;

  return checked ? child : null;
};
```

## Подробнее о `type`

`type` может быть одним из трех вариантов ниже:

1. Строка, обозначающая `React DOM` элемент;
2. Компонент;
3. Компонент с `memo`.

```jsx
const Input = ({ label }) => {
  return (
    <>
      <label htmlFor="input-id">{label}</label>
      <input type="text" id="input-id" />
    </>
  );
};

const App = () => {
  console.log(<input id="aaa" />.type);
  console.log(<Input label="label" />.type);
  console.log(<InputMemo label="label" />.type);

  return null;
}
```

Если вывести `type` элементов выше, то можно увидеть:

![[Элементы_и_компоненты_1.png]]

Здесь `input` это строка, соответственно `React DOM` элемент, функция это компонент, а последняя запись это компонент в `memo`.

### Для чего нужен `type`

Благодаря нему `React` понимает как нужно отрисовать элемент:

- Если `type` это строка, то генерируется `HTML` элемент данного типа;
- Если `type` это функция (компонент или компонент с `memo`), то `React` вызывает его и проходится по всему дереву, которое было возвращено функцией.

Также `type` помогает `React` определить, что нужно сделать с элементом (добавить, изменить или удалить) это является частью алгоритма [[Reconciliation|согласование]].
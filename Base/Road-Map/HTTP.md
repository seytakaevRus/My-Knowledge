## Что такое HTTP

`HTTP` - это `TCP/IP` протокол, который находится на уровне приложений в модели `OSI`. Протокол стандартизирует как клиенты и серверы взаимодействуют между собой, также определяет как контент запрашивается и передается по Интернету. По умолчанию используется порт `80`, хотя остальные порты также могут быть использованы, `HTTPS` использует порт `443`.

Является протоколом без сохранения состояния. То есть каждая команда выполняется независимо от любой другой команды.

### HTTP запрос

`Запрос` - это способ взаимодействия, происходящий от клиента к серверу. 

Типичный `HTTP запрос` состоит из:
1. Метода;
2. URL;
3. Заголовков запроса;
4. Тело запроса, может быть, а может отсутствовать.

### HTTP ответ

`Ответ` - это способ взаимодействия, происходящий от сервера к клиенту. 

Обычно состоит из:
1. Статуса кода;
2. Заголовков ответа;
3. Тело ответа, может быть, а может отсутствовать.

### HTTP метод

`HTTP метод` - отображает действие, которое клиент ожидает от сервера, к примеру, `GET` означает получить что-то от сервера, `POST` означает что-то создать, поэтому можно передать тело в запрос.

### HTTP заголовки

`HTTP заголовки` - текстовая информация, которая хранится в паре `ключ:значение` и присутствует в каждом `HTTP запросе`, также бывает и в `HTTP ответе`. Заголовки содержат такую информацию как, какой браузер использует клиент или тип запрашиваемых данных.

Пример заголовков HTTP запроса

![[Pasted image 20240213225841.png]]

Пример заголовков HTTP ответа

![[Pasted image 20240213230445.png]]

### Тело HTTP запроса/ответа

`Тело` - это дополнительная информация, которую клиент передает на сервер, к примеру, логин и пароль или другие данные, которые были введены в форму.

### HTTP статусы кодов

`Статус кода` - несет в себе общую информацию, что произошло и где может быть ошибка. Делится на следующие группы:

1. `1xx` Информационные;
2. `2xx` Успех;
3. `3xx` Перенаправление;
4. `4xx` Ошибка на стороне клиента;
5. `5xx` Ошибка на стороне сервера.

`xx` это любое число от `00` до `99`. К примеру, статус `200` показывает, что запрос прошел успешно. А статус `404`, что такая страница не была найдена, потому что клиент ввел неправильный `URL`.
## История HTTP

### HTTP/0.9

Эта версия HTTP появилась в 1991 году. Это был очень простой протокол, который имел только метод `GET`.

Как только сервер получал запрос, он отвечал на него страницей `HTML` и закрывал соединения.

В итоге:
- Нет заголовков;
- `GET` единственный разрешенный метод;
- Ответом был `HTML`.

### HTTP/1.0

Эта версия появилась в 1996 году. Эта версия принесла много нового, ответом мог быть не только `HTML`, но и видео, картинки или просто текст, были добавлены методы `POST`, `HEAD`, заголовки, кэширование и многое другое.

Одним из главных недостатков `HTTP/1.0` было отсутствие нескольких запросов на одно соединение. То есть когда клиенту понадобится что-то от сервера ему нужно открыть `TCP` соединение и после получения данных закрыть его. И для любого следующего запроса будет происходить такая же схема. А открытие и закрытие соединения затрачивает ресурсы сервера.

### Трехстороннее рукопожатие

`Трехстороннее рукопожатие` - это процесс, который используется в `TCP/IP` для установления соединения между сервером и клиентом. Это происходит перед обменом данных.

- SYN - клиент выбирает рандомное число, скажем, `x` отправляет его серверу;
- SYN ACK - сервер подтверждает запрос тем, что отправляет клиенту пакет, где содержится рандомное число, которое выбрал сервер, скажем, `y` и число `x + 1`, где `x` это то, что выбрал клиент;
- ACK -  клиент отправляет число `y + 1` на сервер.

С помощью такого механизма происходит подтверждение того, что между сервером и клиентом можно передавать данные. Далее происходит обмен данных.

![[Pasted image 20240213144327.png]]

### HTTP/1.1

Эта версия появилась в 1999  году. Что было сделано:
- Добавлены новый методы `PUT`, `PATCH`, `OPTIONS`, `DELETE`;
- Добавлена возможность поддерживать соединение открытым, в прошлой версии после получения данных соединение закрывалось, поэтому на `1` запрос шло `1` соединение, в этой версии в `1` соединении можно сделать несколько запросов;
- Добавлена возможность пайплайнинга. Это значит, что теперь второй запрос может быть отправлен раньше, чем придет ответ от первого запроса. Благодаря этому уменьшается задержка между запросами. 
- Добавлена возможность делить ответ на чанки, это сделано для динамических данных;
- Поддержка кук на клиенте;
- И многое другое.

### SPDY

Этот протокол разрабатывал Гугл и анонсировал в 2009 году. `SPDY` приносил кучу всего нового, мультиплексирование, сжатие, приоритезацию и многое другое.

Это не было заменой `HTTP`. Это был бы протокол, который работает поверх `HTTP`.

В 2015 в Гугле подумали, что им не нужно 2 стандарта `HTTP` и `SPDY` и решили влить его в `HTTP`, дав рождение `HTTP/2` и перестав поддерживать `SPDY`.

### HTTP/2
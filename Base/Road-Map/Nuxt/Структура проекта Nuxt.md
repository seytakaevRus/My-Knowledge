### .nuxt

Эту папку `Nuxt` использует в разработке для генерирования `Vue` приложения. В ней не нужно ничего трогать, так как это папка для `Nuxt`.

Это папка должна быть прописана в `.gitignore`.
### .output

`Nuxt` создает эту директорию, когда собирает приложение для продакшена.

Это папка должна быть прописана в `.gitignore`.
### assets

`Nuxt` использует `Vite` (по умолчанию) или `Webpack` для сборки и компоновки приложения. Основная функция этих инструментов сборки — обработка файлов `JavaScript`, но их можно расширить для обработки других типов ресурсов, таких как таблицы стилей, шрифты или `SVG`. На этом этапе исходный файл преобразуется главным образом в целях повышения производительности или кэширования (например, минимизация таблиц стилей или аннулирование кэша браузера).
По соглашению `Nuxt` использует каталог `assets/` для хранения этих файлов, но для этого каталога нет функции автоматического сканирования, и вы можете использовать для него любое другое имя.

Ресурсы, которые объявлены в этой папке не будут публичными.

### layouts

`Nuxt` позволяет выделять общие `UI` паттерны в пере использованные макеты.

`layout` создается в отдельной папке `layouts/`.

![[Pasted image 20240228232133.png]]

Чтобы использовать `layout` нужно в `app.vue` добавить `<nuxt-layout />`.

```vue
<template>
  <nuxt-layout>
    <nuxt-page />
  </nuxt-layout>
</template>
```

Чтобы использовать `layout` на определенной странице можно в функции `definePageMeta` указать имя `layout`.

```vue
<script setup lang="ts">
definePageMeta({
  layout: 'custom'
})
</script>
```

В самом файле с `layout` нужно использовать `<slot />`, вместо него будут вставлены дочерние элементы.

```vue
<template>
  <div>
    <p>Some default layout content shared across all pages</p>
    <slot />
  </div>
</template>
```

Чтобы задавать `layout` динамически можно использовать функцию `setPageLayout`.

```vue
<script setup lang="ts">
function enableCustomLayout () {
  setPageLayout('custom')
}
definePageMeta({
  layout: false,
});
</script>

<template>
  <div>
    <button @click="enableCustomLayout">Update layout</button>
  </div>
</template>
```
### pages

`Nuxt` автоматически создает маршруты для каждой странице в папке `pages/`.

```vue
<template>
  <h1>Index page</h1>
</template>
```

![[Pasted image 20240228213149.png]]

В `app.vue` важно не забыть указать компонент `<nuxt-page />`. 

```vue
<template>
    <nuxt-page />
</template>
```

#### Динамические пути

Если поместить что-то в квадратные скобки, это превратится в параметр динамического пути. Можно смешивать статические и динамические параметры с именем пути или директории.

Если нужно, чтобы параметр был `опциальным`, то можно использовать двойные квадратные скобки.

К примеру, по `URL` в браузере `/courses` будет отображено содержимое файла `index.vue`, а по `URL` `/courses/345` будет отображено содержимое `[courseId].vue`.

![[Pasted image 20240228214158.png]]

Чтобы получит доступ к параметрам, достаточно использовать хук `useRoute` и свойство `params` в нем. 

```vue
<script setup>
const { params } = useRoute();
</script>

<template>
  <div>Courses Page By Id = {{ params.courseId }}</div>
</template>
```

#### Путь и все его подпути

Чтобы создать такой путь достаточно использовать файл `pages/[...slug].vue`, тогда, по `URL` `/hello` или `/hello/bar` будет отрисовано содержимое этого файла, если в папке нет файла `hello.vue`.

#### Вложенные пути

Чтобы создать вложенный путь, достаточно создать папку и файл с одинаковым именем, в данном случае это `courses`.

![[Pasted image 20240228215232.png]]

И в файле `courses.vue` прописать `<nuxt-page />`, чтобы дочерние компоненты могли рендерить вместо него свое содержимое.

#### Ключи для дочерних путей

Если нужен больший контроль над повторной отрисовкой компонента `<nuxt-page>` (например, для подсчета количество переходов по этому пути), можно либо передать строку или функцию через свойство `pageKey`, либо определить значение ключа через `definePageMeta`.

```vue
<template>
  <div>
    <h1>I am the parent view</h1>
    <nuxt-page :page-key="route => route.fullPath" />
  </div>
</template>
```

```vue
<script setup lang="ts">
	definePageMeta({
	  key: route => route.fullPath
	})
</script>
```

Также через `definePageMeta` можно передать некоторые интересные данные:
1. `alias` - задать псевдоним, по которому можно посетить текущую страницу;
2. `keepalive` - сохранить состояние страницы между переходами по страницам;
3. `key` - смотри выше;
4. `layout` - задать какой `layout` должен отображаться на текущей странице;
5. `middleware` - задать какой промежуточный обработчик должен вызываться перед попадания на текущую страницу;
6. `name` - задать имя для этого пути;

#### Навигация

Чтобы перемещаться между страницами, можно использовать компонент `<nuxt-link>`, который принимает атрибут `to`, указывая куда будет осуществлен переход.

```vue
<template>
  <NuxtLink to="/">Home page</NuxtLink>
</template>
```

#### Программная навигация

Для программной навигации, к примеру, после успешной отправки формы можно использовать глобально определенную функцию `navigateTo`.

```js
navigateTo("/courses");
```
### public

`Nuxt` использует эта папку, как публичный сервер для раздачи всех ресурсов, которые заключены в ней. К ним можно получить доступ в браузере.

Также в процессе билда проекта эти файлы не будут как-то обрабатываться, в отличие от тех, что находятся в папке `assets/`.

### utils

В этой папке можно хранить функции, которые будут использоваться во всем приложении. `Nuxt` следит за этой папкой, поэтому все функции поддерживают автоимпорт.

### .nuxtignore

Этот файл говорит `Nuxt` о том, чтобы он игнорировал все файлы, которые описаны тут, на этапе сборки.
### nuxt.config.ts

С помощью этого файла `Nuxt` может быть легко настроен. 

```ts
export default defineNuxtConfig({
  // My Nuxt config
})
```

### app.vue

Файл `app.vue` это главный компонент `Nuxt` приложения.

Если не будет папки `pages/`, то для всех путей в браузере `Nuxt` будет рендерить код из этого файла.

Чтобы использовать роутинг, нужно в файл прописать `<nuxt-page />`.

```vue
<template>
  <div>
    <nuxt-layout>
      <nuxt-page/>
    </nuxt-layout>
  </div>
</template>
```
### error.vue

Во время работы приложения некоторые ошибки могут возникать неожиданно. В таком случае можно использовать файл `error.vue`, чтобы переписать страницу об ошибке по умолчанию и отобразить ошибку красиво.

```vue
<script setup lang="ts">
import type { NuxtError } from '#app'

const props = defineProps({
  error: Object as () => NuxtError
})
</script>

<template>
  <div>
    <h1>{{ error.statusCode }}</h1>
    <NuxtLink to="/">Go back home</NuxtLink>
  </div>
</template>
```